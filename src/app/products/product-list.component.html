<div class="mat-app-background basic-container">

  <mat-toolbar color="primary">
    <span>Products</span>
    <span class="example-spacer"></span>
    <button mat-raised-button class="button" (click)="cart()">Cart</button>
  </mat-toolbar>

  <div class="spinner-container" *ngIf="loading">
    <mat-spinner color="warn"></mat-spinner>
  </div>

  <div class="table-container">

    <mat-table [dataSource]="data" matSort matSortDisableClear class="mat-elevation-z8">
      <ng-container matColumnDef="productName">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Product Name</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.productName}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="price">
        <mat-header-cell *matHeaderCellDef mat-sort-header>Price</mat-header-cell>
        <mat-cell *matCellDef="let row">{{row.price | currency:'USD':'symbol':'1.2-2'}}</mat-cell>
      </ng-container>

      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let row">
          <button mat-raised-button class="button" color="primary" [routerLink]="['/details', row.productId]">View</button>
        </mat-cell>
      </ng-container>

      <mat-header-row *matHeaderRowDef="visibleColumns"></mat-header-row>
      <mat-row *matRowDef="let row; columns: visibleColumns;" [routerLink]="['/details', row.productId]"></mat-row>
    </mat-table>

  </div>

  <mat-error class="error-message" *ngIf="errorMessage != null">{{ errorMessage }}</mat-error>

</div>